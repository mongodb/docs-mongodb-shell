.. _mdb-shell-command-history:

==========================
View Shell Command History
==========================

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

The |mdb-shell| saves a history of all commands you've run across
sessions. When a new command is issued, it is added to the beginning of
the history file.

Steps
-----

To view the |mdb-shell| command history, open the following file in a
text editor:

.. list-table::
   :header-rows: 1
   :widths: 1 2

   * - Operating System
     - Path to History File

   * - macOS and Linux
     - ``~/.mongodb/mongosh/mongosh_repl_history``

   * - Windows
     - ``%UserProfile%/.mongodb/mongosh/mongosh_repl_history``

Starting in |mdb-shell| 2.4.0, you can use the ``history()`` command to
output a list of previously executed commands. For example:

.. code-block:: javascript

   history()

Example output, which shows a list of commands in an array of strings:

.. code-block:: javascript
   :copyable: false

   [
     'db.salesFromFile.find()',
     '   let salesCollection = JSON.parse( db.sales.find().toArray() )   ',
     '   let salesCollection = JSON.parse( db.sales.find() )   ',
     '   let salesCollection = EJSON.stringify( db.sales.find().toArray() )   ',
     "   fs.writeFileSync( 'salesDeserialize.json', salesCollection ) ",
     'db.salesFromFile.find()',
     'db.salesFromDeserializeFile.find()',
     'db.salesFromDeserializeFile.drop()',
     'exit',
     ...
  ]
